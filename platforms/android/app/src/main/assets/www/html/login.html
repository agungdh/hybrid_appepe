<style type="text/css">
	body {
		background-image: url("img/bg.jpg");
		margin-top: 25px;
	}
</style>

<div class="containter">
	<center>
		<div class="col-sm-3"></div>
		<div class="col-sm-6">
			<div id="formLogin" class="form-body">
				<img class="img-responsive" src="img/logo.png" height="50%" width="50%">
				<div class="form-group">
				    <input type="text" class="form-control" id="nim" placeholder="NIM">
				</div>
				<div class="form-group">
				    <input type="password" class="form-control" id="password" placeholder="Password">
				</div>
				<button class="btn btn-primary" id="login">Login</button>
				<button class="btn btn-warning" id="reset">Reset</button>
			</div>
		</div>
		<div class="col-sm-3"></div>
	</center>
</div>

<script type="text/javascript">
	$("#reset").on('click', function () {
		resetDetail();
	});

	$("#login").on('click', function () {
		if (validasiForm()) {
			cekLogin($("#nim").val(), sha512($("#password").val()));
		}
	});
</script>

<script type="text/javascript">
	function cekLogin(nim, password) {
		$.post(config.base_url + "api/login",
	    {
	        username: nim,
	        password: password
	    },
	    function(data, status){
	        if (data.login == 1) {
	        	swal("Login BERHASIL !!!");
	        } else {
	        	swal("Login GAGAL !!!");
	        }
	    });			
	}

	function resetDetail() {
		$("#nim").val("");
		$("#password").val("");
	}

	function validasiForm() {	
		if ($.trim($("#nim").val()) == "" || $.trim($("#password").val()) == "") {
			swal({
				title: "ERROR",
				text: "Data masih ada yang KOSONG !!!",
				type: "warning"
			});
			return false;
		} else {
			return true;
		}
	}
</script>