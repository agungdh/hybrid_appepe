<style type="text/css">
    .modal {
        display:    none;
        position:   fixed;
        z-index:    1000;
        top:        0;
        left:       0;
        height:     100%;
        width:      100%;
        background: rgba( 255, 255, 255, .8 ) 
                    url('images/loading.gif') 
                    50% 50% 
                    no-repeat;
    }

    body.loading {
        overflow: hidden;   
    }

    body.loading .modal {
        display: block;
    }
</style>

<div class="modal"></div>

<div class="containter">
	<table class="table" id="tabel">
		<thead>
			<tr>
				<th>Tanggal</th>
				<th>Pelanggaran</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
</div>

<script type="text/javascript">
	$(function() {
		ambilData();			
	});

	function ambilData() {
	    $("body").attr("class", "loading");	
		$.post(config.base_url + "api/data_pelanggaran",
	    {
	        username: json.login.user.username,
	        password: json.login.user.password
	    },
	    function(data, status){
	        if (data.login == 1) {
	        	if (data.jumlah_pelanggaran > 0) {
	        		$.each(data.pelanggaran, function( index, value ) {
			        	$('#tabel').find('tbody').append(
			        		"<tr>\
			        		<td>" + value.tanggal_indo + "</td>\
			        		<td>" + value.jenis + "</td>\
			        		</tr>"
			        	);	
	        		});
	        	}
	        	$('#tabel').DataTable();
	        	$("body").attr("class", "");	
	        } else {
	        	swal({
					title: "ERROR",
					text: "Login GAGAL !!!",
					type: "warning"
				});
	        }
	    });
	}
</script>